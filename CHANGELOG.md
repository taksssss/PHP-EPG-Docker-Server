## 2024-12-09

1. ⚡**优化**：xmltv 文件移至 data 目录，便于备份
2. ⚡**优化**：移除缓存时间设置，默认启用 Memcached
3. ⚡**优化**：台标生成逻辑，与生成 xmltv 解耦
4. 🐛**修复**：服务器产生多份重复日志
5. 🐛**修复**：容器意外关闭后启动失败

## 2024-12-06

1. ✨**新增**：暗色主题（亮色/暗色/自动）
2. ⚡**优化**：部分界面
3. 🔄**更换**：favicon 图标
4. 🐛**修复**：部分 warning 提醒
5. 🐛**修复**：服务器日志时区异常

## 2024-12-03

1. ✨**新增**：停用部分直播源
2. ✨**新增**：保持直播源修改
3. ✨**新增**：使用 token 访问 EPG 服务
4. ✨**新增**：修改 token 页面
5. 🐛**修复**：设置默认台标后，生成台标数据异常
6. 🐛**修复**：服务器日志时区异常
7. 🐛**修复**：数据库更新日志日期未换行
8. 🐛**修复**：猫接口补充数据时输出异常

## 2024-11-30

1. ✨**新增**：EPG 源指定频道列表（频道1, 频道2 => EPG源）
2. ⚡**优化**：更新数据时实时显示进度
3. ⚡**优化**：更新数据时显示更多 EPG 源相关信息
4. ⚡**优化**：保存台标后刷新列表
5. ⚡**优化**：页面显示比例
6. 🐛**修复**：清理台标时误删默认台标

## 2024-11-28

1. ✨**新增**：版本更新提醒及开关
2. ✨**新增**：默认台标设置
3. ✨**新增**：直播源频道名优化选项
4. ✨**新增**：解析直播源时提示使用本地缓存
5. ⚡**优化**：下载数据时忽略 SSL 证书验证
6. ⚡**优化**：TinyFileManager 全面离线化
7. ⚡**优化**：设置 MySQL 数据库时的验证逻辑
8. ⚡**优化**：保存配置逻辑
9. ⚡**优化**：iPhone 用户体验
10. ⚡**优化**：favicon 视觉效果

## 2024-11-24

1. ✨**新增**：显示版本号
2. ✨**新增**：查看版本更新日志
3. ⚡**优化**：https 协议判断
4. ⚡**优化**：ksweb 环境兼容性
5. 🐛**修复**：登录页面字体不一致
6. 🐛**修复**：部分旧路径（如`:5678/epg?ch=xxx`）提示404

## 2024-11-23

1. ✨**新增**：旧路径（`:5678/epg/xxx`）重定向至新路径（`:5678/xxx`）
2. ✨**新增**：网页图标
3. ⚡**优化**：全天单一节目过滤逻辑（仅过滤形如“精彩节目”）
4. ⚡**优化**：修正 epg.pw 源时区
5. ⚡**优化**：跨天节目生成 xmltv 时候重新合并
6. 🐛**修复**：台标清理异常
7. 🐛**修复**：xmltv 当天最后一个节目日期异常

## 2024-11-21

1. ✨**新增**：主动打开 update.php 时，显示全天单一节目过滤提示
2. 🐛**修复**：猫 接口数据更新提示错误
3. 🐛**修复**：反向代理导致的路径获取异常
4. ⚡**优化**：项目访问路径（⚠️从 `:5678/epg` 修改为 `:5678/`）

## 2024-11-19

1. ✨**新增**：下载直播源文件
2. ✨**新增**：访问单个直播源文件
3. ✨**新增**：分页显示直播源列表
4. ✨**新增**：txt 源包含 EPG 地址

## 2024-11-15

1. ✨**新增**：使用 token 访问直播源文件（随机生成，可自行修改 `data/Config.json` 的 `live_token` 字段）
2. ✨**新增**：远程直播源缓存到本地
3. ⚡**优化**：直播源解析时台标匹配
4. ⚡**优化**：无节目表频道台标匹配
5. 🐛**修复**：定时生成直播源，`x-tvg-url` 字段异常

## 2024-11-14

1. ✨**新增**：显示节目表数据来源
2. ⚡**优化**：无节目表频道台标匹配
3. ⚡**优化**：Memcached 检测及设置
4. ⚡**优化**：数据导入

## 2024-11-13

1. ✨**新增**：直播源管理
2. 🐛**修复**：页面闪烁
3. ⚡**优化**：界面视觉效果
4. ⚡**优化**：消息弹窗效果
5. ⚡**优化**：保存配置逻辑

## 2024-11-09

1. 🐛**修复**：css、js 文件缓存问题
2. ⚡**优化**：部分页面布局
3. 🔄**更改**：项目名称
4. ❌**移除**：在线更新功能

## 2024-11-07

1. ⚡**优化**：明文密码改用 md5 加密
2. ⚡**优化**：文件目录

## 2024-11-05

1. ✨**新增**：`tinyfilemanager` 文件管理器
2. ⚡**优化**：文件目录

## 2024-11-04

1. ✨**新增**：节目单、节目描述转简体中文（默认关闭，`更多设置` -> `全转简中`）
2. ⚡**优化**：台标转存、台标上传后自动保存
3. ⚡**优化**：`.gz` 文件判断准确性（支持 302 重定向）
4. ⚡**优化**：部分设置提示样式
5. 🐛**修复**：部分控制字符导致 `xmltv` 文件解析失败

## 2024-11-01

1. ✨**新增**：查看频道节目单
2. ⚡**优化**：猫 接口示例（见首页截图）

## 2024-10-29

1. 🐛**修复**：直播源转换无法识别 IPv6 地址、中文地址
2. ⚡**优化**：猫 接口预告数据更新逻辑
3. ⚡**优化**：猫 接口示例

## 2024-10-25

1. ✨**新增**：猫 接口自定义频道名（自定义名称:猫频道名）
2. ✨**新增**：猫 接口获取预告数据开关（默认关闭）
3. ⚡**优化**：猫 接口跨天节目处理
4. ⚡**优化**：猫 接口获取数据范围（保证数据完整性）
5. ⚡**优化**：`xmltv` 文件删除逻辑

## 2024-10-24

1. ✨**新增**：预告数据不存在时，尝试使用 猫 接口获取
2. ✨**新增**：上传 `txt/m3u` 直播源，返回匹配 `EPG及台标` 的 `m3u` 文件
3. ⚡**优化**：更换 猫 接口，更方便更稳定（直接使用频道名即可）
4. ⚡**优化**：内置台标地址增至 2700+

## 2024-10-15

1. ✨**新增**：获取 猫 数据
2. ⚡**优化**：未使用台标文件从自动清理改为手动清理
3. ⚡**优化**：内置台标地址增至 2000+

## 2024-10-7

1. ✨**新增**：编辑台标频道名
2. 🐛**修复**：打开管理数据页面后退出异常

## 2024-9-29

1. 🐛**修复**：导入文件大于2M时异常
2. ⚡**优化**：台标上传路径
3. ⚡**优化**：频道别名台标匹配逻辑
4. ⚡**优化**：内置台标列表

## 2024-9-26

1. ✨**新增**：同时显示无节目表的内置台标
2. ⚡**优化**：台标转存逻辑
3. ⚡**优化**：频道模糊匹配

## 2024-9-24

1. ✨**新增**：无节目表频道的台标模糊匹配
2. ⚡**优化**：默认台标列表
3. ⚡**优化**：新建自定义台标提示
4. ⚡**优化**：转存台标提示，转存进度显示

## 2024-9-22

7. ⚡**优化**：更改台标 `CDN` 源，并替换为裁切版本
8. 🐛**修复**：导入数据路径错误
9.  🐛**修复**：定时任务误删本地台标
10. 🐛**修复**：超级直播返回字段

## 2024-9-21：

1. ✨**新增**：上传任意频道台标
2. ✨**新增**：一键上传所有 `CDN` 台标到服务器
3. ✨**新增**：无节目表频道的台标匹配
4. ⚡**优化**：更新时清理未使用台标文件

## 2024-9-19：

1. ✨**新增**：台标管理，支持 `URL` 及 `上传`，模糊匹配，返回 `DIYP` 、 `超级直播` 及 `xmltv` 格式（感谢[fanmingming/live](https://github.com/fanmingming/live)、[wanglindl/TVlogo](https://github.com/wanglindl/TVlogo)）
2. 🐛**修复**：超级直播时间戳、`showTime` 字段错误

## 2024-9-16：

1. ✨**新增**：支持 `Memcached` ，可设置缓存时间
2. ✨**新增**：`xmltv` 生成 `icon` 台标字段（感谢 https://www.fanmingming.com/ ）

## 2024-9-15：

1. ✨**新增**：生成 `xmltv` 文件时，使用多个 `display-name` 标记频道别名，减少数据冗余（感谢[snowie2000](https://github.com/snowie2000)）
2. ⚡**优化**：精简界面，删除频道忽略字符串
3. ⚡**优化**：`频道映射` 更名为 `频道别名` **（⚠️ 老用户注意，数据顺序更变）**

## 2024-9-13：

1. ✨**新增**：连接 `MySQL` 数据库
2. ⚡**优化**：部署步骤

## 2024-9-8：

1. ✨**新增**： `armv7` 镜像
2. ⚡**优化**：频道指定 `EPG` 源逻辑

## 2024-9-6：

3. ✨**新增**：频道指定 `EPG` 源
4. ✨**新增**：管理页面预加载数据，减少等待时间
5. ✨**新增**：非 `UTC+8` 时区转换

## 2024-9-4：

1. ⚡**优化**：过滤全天只有一个节目的数据
2. 🐛**修复**：生成 `xmltv` 时，频道匹配错误
3. 🐛**修复**：频道映射为空时，显示 ` => `

## 2024-9-3：

- ✨**新增**：数据导入导出（包括 `config.json` 跟 `data.db` 文件）

## 2024-9-1：

1. ✨**新增**：反向模糊匹配（如 `湖南茶频道` 能匹配 `茶频道`）
   > 可能出现错误匹配：如数据库中只有 `CGTN` 跟 `CGTN西语` ，请求 `CGTN西班牙语` 会返回 `CGTN` ，需自行添加频道映射
2. ⚡**优化**：频道匹配顺序
   > 优先精准匹配，其次正向模糊匹配（`超级体育 => NewTV超级体育`），最后反向模糊匹配（`湖南茶频道 => 茶频道`）
3. ⚡**优化**：去掉绝大部分 `频道忽略字符串` 跟 `频道映射`
4. ⚡**优化**：跨天数据处理逻辑

## 2024-8-30：

1. ✨**新增**：从频道列表新建映射关系（`频道映射` -> `点击编辑`）
2. ⚡**优化**：定时任务 `pid` 获取方式
3. ⚡**优化**：解析后预加载频道匹配结果

## 2024-8-29：

1. ✨**新增**：查看频道匹配结果（`更多设置` -> `解析` -> `查看匹配`）
2. ⚡**优化**：非 `Docker` 用户体验
3. ⚡**优化**：频道忽略字符串替换顺序

## 2024-8-26：

1. ⚡**优化**：数据重复时的更新逻辑（越前面，优先级越高）
2. ⚡**优化**：频道映射规则（针对 `51zmt` 的 `CCTV4EUO` 跟 `CCTV4AME` 命名）
3. ⚡**优化**：频道映射界面改回之前的版本（新版本直观，但在修改规则时效率太低）

## 2024-8-24：

1. ✨**新增**：改用 `XMLWriter` 生成 `xmltv` 文件，加快生成速度，降低内存占用（生成全量数据，`100M` 以内即可）
2. ✨**新增**：“限定频道列表”可直接从 `M3U` 、 `TXT` 地址获取
3. ✨**新增**：设置“限定频道列表”后，生成 `xmltv` 的频道名以列表的为准（可生成匹配 `M3U` 的 `EPG` 文件）
4. ✨**新增**：`NewTV`、`SiTV`、`iHOT`、`CHC` 系列频道映射规则
5. ⚡**优化**：将数据文件统一放到 `data` 文件夹，方便进行[数据持久化](#数据持久化)（⚠️注意更新）
6. ⚡**优化**：节目匹配时，优先采用精确匹配结果
7. ⚡**优化**：部分 `EPG` 条目跨天时，生成 2 条数据
8. ⚡**优化**：`desc` 字段的生成逻辑
9. ⚡**优化**：删除部分冗余选项

> ⚠️该版本改动较多，建议直接更新

## 2024-8-21：

1. ✨**新增**：退出按钮（感谢[mxdabc](https://github.com/mxdabc/epgphp)）
2. 🐛**修复**：语法错误（感谢[mxdabc](https://github.com/mxdabc/epgphp)）
3. ✨**新增**：使用 `GitHub Actions` 生成、推送镜像到 `DockerHub` 及 `腾讯云容器镜像站`
4. 🐛**修复**：点击退出按钮后再次登录，无法查看日志

## 2024-8-20：

1. ✨**新增**：同步提供 `腾讯云容器镜像` ，无法正常拉取镜像的用户可使用
2. ✨**新增**：默认返回“精彩节目”选项
3. ✨**新增**：更新前检查 EPG 文件，无变化则跳过
4. ⚡**优化**：分批插入数据，降低内存占用
5. ⚡**优化**：配置文件从 `config.php` 改为 `config.json`
6. 🐛**修复**：频道映射每次只能更新一条的问题

## 2024-8-14：

1. ⚡**优化**：频道映射显示方式
2. ✨**新增**：同时生成 `.xml.gz` 及 `.xml` 选项

## 2024-8-12：

1. ✨**新增**：`xmltv` 文件格式选项（ `.xml.gz` 或 `.xml`）
2. ⚡**优化**：频道映射忽略空格（如 `CGTN英语 => CGTN` 可对 `CGTN 英语` 进行映射）
3. ⚡**优化**：正则表达式，增加 `CCTV 5P` 频道匹配

## 2024-8-5：

1. 修改部分 `opencc` 及 `update.php` 代码，兼容 `PHP 7.0` 以上版本
2. 新增 `入库前处理频道名` 选项（ `DIYP` 跟 `超级直播` 用户保持默认 `是` 即可）
3. 更新 `manage.php` ，打开设置页面时检查定时任务运行情况
4. 优化正则表达式，增加 `CCTV 5PLUS` 频道匹配
5. 新增 `docker-compose.yml` ，可持久化 `adata.db` 跟 `config.json` 文件

## 2024-7-31：

1. 部分用户反馈 `phpLiteAdmin-ng` 在 `php7.x` 上打开较慢，已换回之前的 `phpLiteAdmin 1.9.71`
2. 修复 `phpLiteAdmin 1.9.71` 部分节目不显示的问题：
   - 将部分 `substr` 、 `strlen` 替换为 `mb_substr` 、 `mb_strlen`
3. 修复未进入“更多设置”页面，`Ctrl+S` 会清空限定频道列表的问题

## 2024-7-30：

1. 支持**繁体中文频道匹配**（感谢 [overtrue/php-opencc](https://github.com/overtrue/php-opencc) ）
2. 支持生成**指定频道节目单**（可通过 `.txt` 或 `.m3u` **节目源导入**）
3. 调整页面布局，将部分设置放至“**更多设置**”页面中
4. 生成 .xml.gz 时，默认只包含预告数据（可在设置中更改）
5. 修改频道忽略字符串逻辑，将忽略空格设为可选（默认开启）
6. EPG 地址列表支持 `Ctrl + /` 设置（取消）注释
7. 重构部分代码，加快数据生成速度，降低内存占用
8. 改用 [phpLiteAdmin-ng](https://github.com/emanueleg/pla-ng/) ，修复节目显示不完全的问题
9. 修复频道包含 `&` 字符，报 `Warning` 的问题
10. 修复 cron.php 首次执行在特定情况下异常的问题

> 功能基本完善，没大改动的话会比较少更新了。

## 2024-7-26：

1. 自定义频道名支持**多对一映射**
2. 支持**整合 xmltv**，并**生成 .xml.gz 文件**，降低硬盘占用
3. 支持查看、搜索数据库频道列表，方便填写映射
4. 修复 cron.php 在第三天失效的问题
5. 删除 epg_lovetv 表，超级直播数据直接从对应 DIYP 中生成，减少数据冗余
6. 优化更新当天数据的逻辑，避免更新时无法获取节目表

## 2024-7-21：

1. **支持 `超级直播` 格式**
2. **重构代码，基镜像改为 `alpine-apache-php` ，镜像大小从 155M 下降到 23M**
3. 支持解析 M3U4U 等非 .xml/.gz 结尾 EPG 地址
4. 数据分批插入，降低内存占用
5. 修复部分界面显示异常问题
6. 修复设置页面刷新，提示“是否重新提交表单”问题
7. 增加接口测试说明

## 2024-7-18：

1. 提供 Docker🐳 镜像（基于 php:7.4-apache ，支持 x86-64 跟 arm64 ）
2. 支持定时更新数据库
3. EPG 源支持添加注释
4. 支持更改登录密码 【默认为空！！！】
5. 支持查看定时任务日志
6. 支持查看数据库更新日志
7. 配置页面支持 Ctrl+S 保存
8. 更新部署流程

## 2024-7-14：

1. 改用 Docker Compose🐳 部署
2. 更新部署流程

## 2024-7-13：

1. 优化自带正则表达式
2. 更新默认返回数据，供回放使用
3. 增加 TiviMate 示例图片

## 2024-7-13初始版本：

1. 支持标准 xmltv 和 DIYP&百川 格式
2. 包含网页设置页面
3. 支持多个 EPG 源
4. 可配置数据保存天数
5. 支持设置频道忽略字符串
6. 支持频道映射，支持正则表达式
7. 内置 phpLiteAdmin 方便管理数据库